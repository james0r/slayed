<div
  class="minicart h-auto w-72 rounded-md bg-white p-5 shadow-[0_30px_130px_-8px_rgba(0,0,0,0.25)] [&_a]:text-black [&_a]:no-underline [&_a:hover]:underline"
  data-ajax-cart-section
  x-cloak>
  <div class="title-row mb-2.5 flex items-center justify-between">
    <h2 id="minicart-label" class="text-cloud-burst-500">
      Cart
    </h2>
    <button @click="$store.global.isMinicartVisible = false" class="cursor-pointer border-0 bg-transparent [&>svg]:block [&>svg]:h-4">
      {% render 'icon-close-x' %}
    </button>
  </div>
  <div class="item-count-message mb-2.5 text-[0.8em]">
    You have
    <span
      class="count font-semibold"
      x-data>{{ cart.item_count }}
    </span>
    <span x-data></span>
    in your cart!
  </div>
  <hr class="mb-5"/>
  <ul class="items-list max-h-75 list-none overflow-auto pl-0" data-ajax-cart-section-scroll>
    {% for line_item in cart.items %}
      <li class="item mb-2.5 flex w-full">
        <div class="product-thumb-wrapper relative h-30 w-25 flex-[0_0_100px]">
          <img 
            src="{{ line_item.image | image_url: width: 100, height: 120, crop: 'center' }}" 
            alt="{{ line_item.title }}" 
            srcset="{{ line_item.image | image_url: width: 100, height: 120, crop: 'center' }} 1x, {{ line_item.image | image_url: width: 200, height: 240, crop: 'center' }} 2x"
            width="{{ line_item.image.width }}"
            height="{{ line_item.image.height }}"
            loading="lazy"
            class="absolute inset-0 h-full w-full object-cover object-center"
          >
        </div>
        <div class="item-details ml-2.5 flex flex-col justify-start [&_p]:m-0">
          <h4 class="title mb-1.5 mt-0 text-[0.9em] font-semibold">
            {{ line_item.title | truncatewords: 5 }}
          </h4>
          <div class="options">
            {% for option in line_item.options_with_values %}
              <p class="option mb-0.5 text-[0.8rem]" data-option-name="{{ option.name }}">
                <span class="font-semibold">{{ option.name }} :
                </span>
                <span>{{ option.value }}
                </span>
              </p>
            {% endfor %}
          </div>
          <div class="quantity-row my-0.5">
            <span class="text-[0.8rem] font-bold">Quantity:
            </span>
            <span class="text-[0.8rem]">{{ line_item.quantity }}
            </span>
          </div>
          <p class="price mt-auto">{{ line_item.price | money }}
          </p>
          <p class="remove mt-auto text-[0.6em]">
            <a href="{{ line_item.url_to_remove }}" data-ajax-cart-request-button>
              <i class="fa fa-trash-o"></i>
              Remove from cart
            </a>
          </p>
        </div>
      </li>
    {% endfor %}

  </ul>
  <hr class="mb-5"/>
  <div class="subtotal my-5 flex items-center justify-between">
    <p class="title m-0 h-4">Subtotal
    </p>
    <p class="amount m-0 text-[1.2em] font-semibold">{{ cart.items_subtotal_price | money }}
    </p>
  </div>
  <a class="view-cart-details-link mt-5 flex h-[43px] w-full items-center justify-center border-2 border-black bg-white font-semibold hover:bg-black hover:text-white hover:no-underline" href="{{ routes.cart_url }}">
    View Cart Details
  </a>

</div>
